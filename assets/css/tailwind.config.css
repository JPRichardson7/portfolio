@theme {
  --breakpoint-xs: 320px;
  --breakpoint-sm: 390px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1366px;
  --breakpoint-2xl: 1920px;

  --spacing-margin-base: clamp(20px, 4.2vw, 67px);
  --header-height: 149px;

  /* Tailwind v4 spacing scale */
  --spacing-2: 0.5rem;

  --color-highlight-yellow: #E5D900;
  --color-light-blue: #BBEBE8;
  --color-dark-blue: #0A2647;
  --color-highlight-on-dark: #08241B;
  --font-barlow: Barlow Condensed, sans-serif;
  --font-ubuntu-mono: Ubuntu Mono, monospace;

  --letter-spacing-wide: 0.13em;    /* 13% for accents */


}

/* Inform browsers and extensions that this site uses dark mode */
:root {
  color-scheme: dark;
}

.barlow-condensed-extrabold {
  font-family: "Barlow Condensed", sans-serif;
  font-weight: 800;
  font-style: normal;
}
body {
    @apply
      bg-dark-blue
      selection:bg-highlight-on-dark
      selection:text-highlight-yellow;
    position: relative;
  }

/* Paper texture overlay - sits above background and text, but below images */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('/assets/img/paperboard-texture.webp');
    background-repeat: repeat;
    opacity: 0.8;
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 8;
  }

/* Ensure images and interactive elements sit above the texture */
img,
picture,
video,
canvas,
svg,
header,
footer,
nav {
    position: relative;
    z-index: 10;
  }
p{
  font-family: "IBM Plex Sans Condensed", sans-serif;
  font-weight: 400;
  font-style: normal;
  @apply mb-2 md:text-[clamp(1rem,1.5cqw,1.7rem)] text-light-blue leading-[1.2em];
}

  @layer components {

    .hero-text {
      @apply font-barlow uppercase text-light-blue font-extrabold;
    }

    .code-text {
      @apply font-ubuntu-mono text-[81%] bg-highlight-on-dark px-2 py-0.5 rounded font-[450] ;
    }
    

    .nav-line {
    position: relative;
  }


  .nav-line--active::before {
    border-color: #E5D900;
  }

  .connecting-line{
      background: repeating-linear-gradient( to right, #BBEBE8 0, #BBEBE8 .5vw, transparent .5vw, transparent 1.5vw );
  }
  .connecting-line-vertical {
      width: .5cqw;
      background: repeating-linear-gradient( to bottom, #BBEBE8 0, #BBEBE8 .5vw, transparent .5vw, transparent 1.5vw );
  }

  .lowlight-marker {
      @apply relative inline-block text-highlight-yellow;
      padding: 0.25em 0.3em;
      z-index: 1;
  }

  .lowlight-marker::before {
      content: '';
      @apply absolute bg-highlight-on-dark opacity-85;
      top: 0.15em;
      left: -0.1em;
      right: -0.1em;
      bottom: 0.1em;
      z-index: -1;
      transform: var(--highlight-transform, skew(-8deg) rotate(-0.9deg));
      border-radius: var(--highlight-radius, 8px 12px 10px 6px);
  }

  .highlight-marker {
      @apply relative inline-block text-highlight-yellow;
      padding: 0.25em 0.3em;
      z-index: 1;
  }

  .highlight-marker::before {
      content: '';
      @apply absolute bg-highlight-yellow opacity-85;
      top: 0.15em;
      left: -0.1em;
      right: -0.1em;
      bottom: 0.1em;
      z-index: -1;
      transform: var(--highlight-transform, skew(-8deg) rotate(-0.9deg));
      border-radius: var(--highlight-radius, 8px 12px 10px 6px);
  }
  
  .nav-hover {
      @apply relative inline-block;
  }

  .nav-hover::before {
      content: '';
      @apply absolute bg-highlight-on-dark;
      opacity: 1;
      top: 0.15em;
      bottom: 0.1em;
      left: -0.1em;
      right: -0.1em;
      z-index: -1;
      transform: var(--highlight-transform, skew(-8deg) rotate(-0.9deg)) scaleX(0);
      transform-origin: left center;
      border-radius: var(--highlight-radius, 8px 12px 10px 6px);
      transition: transform .3s ease;
  }

  .nav-hover::after {
      content: attr(data-text);
      @apply absolute;
      top: 0;
      left: 0;
      color: var(--color-highlight-yellow);
      overflow: hidden;
      clip-path: inset(0 100% 0 0);
      transition: clip-path .3s ease;
      pointer-events: none;
  }

  .nav-hover:hover::before {
      transform: var(--highlight-transform, skew(-8deg) rotate(-0.9deg)) scaleX(1);
  }

  .nav-hover:hover::after {
      clip-path: inset(0 0 0 0);
  }
  .menu-btn {
    @apply bg-transparent border-none cursor-pointer p-0 w-[61px] h-[62px];
  }

  .menu-btn .menu-base,
  .menu-btn .menu-text-border,
  .menu-btn .menu-arrow-outline {
    @apply transition-all duration-100 ease-in-out;
  }

  .menu-btn .menu-text,
  .menu-btn .menu-arrow-fill {
    @apply transition-all duration-100 ease-in-out;
  }

  .menu-btn:hover .menu-base,
  .menu-btn:hover .menu-text-border,
  .menu-btn:hover .menu-arrow-outline {
    fill: var(--color-dark-blue);
    stroke: var(--color-dark-blue);
  }

  .menu-btn:hover .menu-text,
  .menu-btn:hover .menu-arrow-fill {
    fill: var(--color-light-blue);
  }

  .menu-btn:focus .menu-base,
  .menu-btn:focus .menu-text-border,
  .menu-btn:focus .menu-arrow-outline,
  .menu-btn:active .menu-base,
  .menu-btn:active .menu-text-border,
  .menu-btn:active .menu-arrow-outline {
    fill: var(--color-highlight-on-dark);
    stroke: var(--color-highlight-on-dark);
  }

  .menu-btn:focus .menu-text,
  .menu-btn:focus .menu-arrow-fill,
  .menu-btn:active .menu-text,
  .menu-btn:active .menu-arrow-fill {
    fill: var(--color-highlight-yellow);
  }

.menu-btn.active .arrow-group {
  transform: rotate(180deg);
  transform-origin: 43.83px 25.88px;  /* More precise center */
  transition: transform 0.1s ease-in-out;
} 
.strong{
  font-family: "Barlow Condensed", sans-serif;
  font-weight: 700;
  font-style: italic;
  font-size: 113%;
  @apply leading-none;
 }

.stripe-divider {
  @apply h-[10px] w-full border-2 border-solid border-light-blue;
  background: repeating-linear-gradient(
    45deg,
    #BBEBE8 0,
    #BBEBE8 2px,
    #0A2647 2px,
    #0A2647 8px
  );
}

.stripe-divider-vertical {
  @apply w-[10px] h-full border-2 border-solid border-light-blue;
  background: repeating-linear-gradient(
    45deg,
    #BBEBE8 0,
    #BBEBE8 2px,
    #0A2647 2px,
    #0A2647 8px
  );
}


.dev-banner {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: #E5D900;
    backdrop-filter: blur(10px);
    color: #0A2647;
    padding: 12px 20px;
    z-index: 9999!;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}


.dev-banner-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}

.dev-banner strong {
    font-weight: 600;
}

.last-updated {
    opacity: 0.85;
    font-size: 0.9em;
    font-style: italic;
}

.dismiss-btn {
    background: none;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    padding: 0 8px;
    margin-left: auto;
    opacity: 0.8;
    transition: opacity 0.2s;
}

.dismiss-btn:hover {
    opacity: 1;
}

/* Responsive: stack on mobile */
@media (max-width: 768px) {
    .dev-banner-content {
        flex-direction: column;
        gap: 8px;
        text-align: center;
    }

    .dismiss-btn {
        position: absolute;
        top: 8px;
        right: 8px;
        margin: 0;
    }
}

/* Portfolio Carousel */
.portfolio-image-container {
  @apply relative;
}

.carousel-controls {
  @apply absolute inset-0 pointer-events-none flex items-end justify-center pb-3;
}

.carousel-dots {
  @apply flex gap-1.5 pointer-events-auto z-10!;
}

.carousel-dot {
  @apply w-1.5 h-1.5 rounded-sm bg-white/50 cursor-pointer transition-all duration-200;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.carousel-dot.active {
  @apply bg-white/95;
}

/* Desktop Filmstrip */
.portfolio-filmstrip {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
  scroll-behavior: smooth;
}

.portfolio-filmstrip::-webkit-scrollbar {
  display: none; /* Chrome/Safari/Opera */
}

.filmstrip-wrapper {
  @apply relative;
}

.filmstrip-nav-btn {
  @apply absolute top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-light-blue/10 border-2! border-light-blue/30! text-light-blue! cursor-pointer rounded items-center justify-center transition-all duration-200;
  display: none; /* Hidden by default */
}

/* Only show nav buttons on md breakpoint and up when filmstrip has 4+ images */
@media (max-width: 1465px) {
  .filmstrip-wrapper:has(.filmstrip-thumb:nth-child(4)) .filmstrip-nav-btn {
    @apply flex;
  }
}

.filmstrip-nav-btn:hover {
  @apply bg-light-blue/20! border-light-blue/50!;
}

.filmstrip-nav-btn.prev {
  @apply left-0 ml-1;
}

.filmstrip-nav-btn.next {
  @apply right-0 mr-1;
}

.filmstrip-thumb {
  @apply rounded-sm transition-all duration-200 hover:-translate-y-0.5 hover:shadow-lg;
}

.filmstrip-thumb.active {
  border-color: var(--color-light-blue) !important;
}

/* Portfolio Lightbox */
.portfolio-lightbox {
  @apply fixed inset-0 z-[9999]! hidden items-center justify-center;
}

.portfolio-lightbox.active {
  @apply flex;
}

.lightbox-backdrop {
  @apply absolute inset-0 bg-dark-blue/90 cursor-pointer;
}

.lightbox-content {
  @apply relative w-[90vw] h-[90vh] flex items-center justify-center z-10!;
}

.lightbox-image {
  @apply max-w-full max-h-full object-contain select-none border-2 border-solid border-light-blue/30;
  -webkit-user-drag: none;
}

/* Shared button styles for lightbox controls */
.lightbox-close,
.lightbox-prev,
.lightbox-next {
  @apply absolute w-12 h-12 bg-light-blue/10 border-2! border-light-blue/30! text-light-blue! cursor-pointer rounded flex items-center justify-center transition-all duration-200 z-20! 
}

.lightbox-close:hover,
.lightbox-prev:hover,
.lightbox-next:hover {
  @apply bg-light-blue/20! border-light-blue/50!;
}

.lightbox-close {
  @apply top-4 right-4 text-3xl leading-none;
}

.lightbox-prev {
  @apply left-4 top-1/2 -translate-y-1/2 text-4xl leading-none;
}

.lightbox-next {
  @apply right-4 top-1/2 -translate-y-1/2 text-4xl leading-none;
}

.lightbox-dots-container {
  @apply absolute bottom-4 left-1/2 -translate-x-1/2 z-20!;
}

}

